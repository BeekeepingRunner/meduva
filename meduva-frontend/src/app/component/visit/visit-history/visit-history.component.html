<div>
  <h3>Your Visits</h3>

  <div *ngIf="isWorker">
    <button mat-raised-button color="primary"
            (click)="getAllVisitsAsClient()">As client</button>
    <button mat-raised-button color="primary"
            (click)="getAllVisitsAsWorker()">As worker</button>
  </div>

  <table mat-table [dataSource]="visits" class="mat-elevation-z8">
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef>Date</th>
      <td mat-cell *matCellDef="let visit">{{ visit.timeFrom | date: 'dd.MM.yyyy' }}</td>
    </ng-container>
    <ng-container matColumnDef="hour">
      <th mat-header-cell *matHeaderCellDef>Hour</th>
      <td mat-cell *matCellDef="let visit">{{ visit.timeFrom | date: 'HH:mm' }} ({{ visit.service.durationInMin }} min.)</td>
    </ng-container>
    <ng-container matColumnDef="serviceName">
      <th mat-header-cell *matHeaderCellDef>Service</th>
      <td mat-cell *matCellDef="let visit">{{ visit.service.name }}</td>
    </ng-container>
    <ng-container matColumnDef="room">
      <th mat-header-cell *matHeaderCellDef>Room</th>
      <td mat-cell *matCellDef="let visit">{{ visit.room.name }}</td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let visit">{{ visit.visitStatus.name | lowercase | slice : 6 }}</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; let visit; columns: displayedColumns;"
        class="element-row"></tr>
  </table>

</div>
